@model MVC_OES.Models.Questions.QuestionModel

@{
    ViewBag.Title = "Edit Question";
    int courseId = ViewBag.CourseId;
    int levelNumber = ViewBag.LevelNumber;
}

<h2>Edit Question — Course @courseId | Level @levelNumber</h2>

@if (TempData["ApiError"] != null)
{
    <div class="alert alert-danger">@TempData["ApiError"]</div>
}

@using (Html.BeginForm())
{
    @Html.HiddenFor(m => m.QuestionId)
    @Html.HiddenFor(m => m.CourseId)
    @Html.HiddenFor(m => m.LevelNumber)

    <div class="mb-3">
        @Html.LabelFor(m => m.QuestionText)
        @Html.TextAreaFor(m => m.QuestionText, new { @class = "form-control", rows = 3 })
    </div>

    <div class="mb-3">
        @Html.LabelFor(m => m.OptionA)
        @Html.TextBoxFor(m => m.OptionA, new { @class = "form-control" })
    </div>
    <div class="mb-3">
        @Html.LabelFor(m => m.OptionB)
        @Html.TextBoxFor(m => m.OptionB, new { @class = "form-control" })
    </div>
    <div class="mb-3">
        @Html.LabelFor(m => m.OptionC)
        @Html.TextBoxFor(m => m.OptionC, new { @class = "form-control" })
    </div>
    <div class="mb-3">
        @Html.LabelFor(m => m.OptionD)
        @Html.TextBoxFor(m => m.OptionD, new { @class = "form-control" })
    </div>
    <div class="mb-3">
        @Html.LabelFor(m => m.Answer)
        @Html.TextBoxFor(m => m.Answer, new { @class = "form-control" })
    </div>
    <div class="mb-3">
        @Html.LabelFor(m => m.Marks)
        @Html.TextBoxFor(m => m.Marks, new { @class = "form-control", type = "number", min = "1" })
    </div>

    <button type="submit" class="btn btn-success">Update Question</button>
    <a href="@Url.Action("GetQuestions", "Question", new { courseId = courseId, levelNumber = levelNumber })" class="btn btn-secondary">Cancel</a>
}
